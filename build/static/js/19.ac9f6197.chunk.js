(this.webpackJsonpAccuraly=this.webpackJsonpAccuraly||[]).push([[19],{928:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return C}));var n=t(507),c=t(107),l=t(1),o=t.n(l),s=t(910),i=t(911),r=t(912),m=t(913),d=t(914),u=t(935),p=t(916),g=t(917),E=t(918),f=t(746),b=t(919),h=t(920),O=t(703),j=t(510),S=t(511),A=t(512),N=t(607),v=t.n(N),_=t(509),y=t(505),T=t(647);function C(e){var a,t;console.log("Selected campaign data: ",e.location.state);var N=e.location.state.data;a=Object(S.a)("name",N.name,j.a,j.b.EMPTY),t=Object(S.a)("description",N.description,j.a,j.b.EMPTY);var C=N.ads?N.ads.map((function(e,a){return{label:e.name,value:e.ad_id}})):[],I=Object(l.useState)(new Date(N.start_time)),M=Object(n.a)(I,2),V=M[0],D=M[1],w=Object(l.useState)(new Date(N.end_time)),x=Object(n.a)(w,2),P=x[0],R=x[1],k=Object(l.useState)([]),G=Object(n.a)(k,2),F=G[0],J=G[1],L=Object(l.useState)(C),Y=Object(n.a)(L,2),K=Y[0],U=Y[1],W=Object(A.a)(!1),q=Object(S.b)([a,t],(function(e){e=Object(c.a)({},e,{start:V.toISOString(),end:P.toISOString(),campaign_id:N.campaign_id}),console.log("Data Length==> ",e),function(e){Object(_.a)(y.a.CAMPAIGN+"update",{data:e},{"Content-Type":"application/json"},(function(e){console.log("campaign edit success: ",e),W.changeVisibility(!0),W.handleMessage("campaign edit successfully"),setTimeout((function(){W.changeVisibility(!1)}),5e3)}),(function(e){console.log("campaign edit error: ",e),e.response&&e.response.data?W.handleMessage(e.response.data.message):W.handleMessage(y.c.NETWORK_FAILURE),setTimeout((function(){W.changeVisibility(!1)}),5e3)}))}(e)}));function z(e){Object(_.a)(y.a.CAMPAIGN_ADS+"detach",{ad_id:e,campaign_id:N.campaign_id},{},(function(e){console.log("successRes for detach ads: ",e)}),(function(e){console.log("errorRes for detach ads: ",e)}))}function B(e,a){var t=[],n=[];console.log("Campaign id: ",N.campaign_id),"remove-value"===a.action&&(U(e),t.push(a.removedValue.value),console.log("detachAdsArr in remove-value: ",t),z(t)),"select-option"===a.action&&(U(e),n.push(a.option.value),console.log("attachAdsArr in select-option: ",n),function(e){Object(_.a)(y.a.CAMPAIGN_ADS+"attach",{ad_id:e,campaign_id:N.campaign_id},{},(function(e){console.log("successRes for attach ads: ",e)}),(function(e){console.log("errorRes for attach ads: ",e)}))}(n)),"clear"===a.action&&(t=K.map((function(e,a){return e.value})),console.log("detachAdsArr in clear: ",t),z(t))}return Object(l.useEffect)((function(){Object(_.a)(y.a.ADS+"get",{},{"Content-Type":"application/json"},(function(e){var a=e.data.data.map((function(e,a){return{label:e.name,value:e.ad_id}}));console.log("optionsArr: ",a),J(a)}),(function(e){console.log("Api error: ",e)}))}),[]),o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement(s.a,null,o.a.createElement(i.a,{lg:6},o.a.createElement(r.a,null,o.a.createElement(m.a,null,o.a.createElement("strong",null,o.a.createElement("i",{className:"icon-info pr-1"}),"Campaign id: ",N.campaign_id)),o.a.createElement(d.a,null,o.a.createElement(u.a,{color:"danger",isOpen:W.isVisible,toggle:function(){W.changeVisibility(!1)}},W.message),o.a.createElement(p.a,Object.assign({noValidate:!0},q.props),o.a.createElement("h1",null,"Edit campaign"),o.a.createElement("p",{className:"text-muted"}),o.a.createElement(g.a,{className:"mb-3"},o.a.createElement(E.a,{addonType:"prepend"},o.a.createElement(f.a,null,o.a.createElement("i",{className:"icon-user"}))),o.a.createElement(b.a,Object.assign({type:"text",placeholder:"Name",autoComplete:"on"},a.props)),o.a.createElement(h.a,null,a.helperText)),o.a.createElement(g.a,{className:"mb-3"},o.a.createElement(E.a,{addonType:"prepend"},o.a.createElement(f.a,null,o.a.createElement("i",{className:"icon-info"}))),o.a.createElement(b.a,Object.assign({type:"text",placeholder:"Description",autoComplete:"off"},t.props)),o.a.createElement(h.a,null,t.helperText)),o.a.createElement(g.a,{className:"mb-3"},o.a.createElement(E.a,{addonType:"prepend"},o.a.createElement(f.a,null,o.a.createElement("i",{className:"icon-calendar"}))),o.a.createElement(v.a,{selected:V,onChange:function(e){console.log("Start date selected: ",e.toISOString()),D(e)},showTimeSelect:!0})),o.a.createElement(g.a,{className:"mb-3"},o.a.createElement(E.a,{addonType:"prepend"},o.a.createElement(f.a,null,o.a.createElement("i",{className:"icon-calendar"}))),o.a.createElement(v.a,{selected:P,onChange:function(e){console.log("End date selected: ",e.toISOString()),R(e)},showTimeSelect:!0})),o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{defaultValue:K,isMulti:!0,name:"adSelect",options:F,className:"basic-multi-select",classNamePrefix:"select",onChange:B,placeholder:"Select ads for the campaign."}),o.a.createElement("p",null)),o.a.createElement(O.a,{color:"success",block:!0},"Edit Campaign")))))))}}}]);
//# sourceMappingURL=19.ac9f6197.chunk.js.map