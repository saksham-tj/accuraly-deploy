{"version":3,"sources":["views/Ads/questions/AdQuestions.js"],"names":["AdQuestions","props","adDetails","useSelector","state","adsReducer","console","log","Object","keys","length","history","push","pathname","frontendRoutes","ads","path","useState","adData","setAdData","goToCreateQues","createAdQuestions","data","creative_id","questions","getAdData","adId","apiPost","backendRoutes","ADS","successRes","errorRes","useEffect","className","color","onClick","xl","map","questionData","index","question_id","question","answers","answerData","i","answer","correct","e","quesData","preventDefault","editAdQuestions","totalQues","editQuestion","quesId","DELETE_QUESTION","deleteQuestion"],"mappings":"kTAuBe,SAASA,EAAYC,GAEnC,IAAMC,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,cAE7CC,QAAQC,IAAI,cAAeL,GAEW,IAAlCM,OAAOC,KAAKP,GAAWQ,QAC1BT,EAAMU,QAAQC,KAAK,CAClBC,SAAUC,IAAeC,IAAIC,OARW,MAYdC,qBAZc,mBAYnCC,EAZmC,KAY3BC,EAZ2B,KAqB1C,SAASC,IACRnB,EAAMU,QAAQC,KAAK,CAClBC,SAAUC,IAAeO,kBAAkBL,KAC3CZ,MAAO,CAAEkB,KAAM,CAAEC,YAAaL,EAAOK,YAAaC,UAAWN,EAAOM,cAItE,SAASC,EAAUC,GAClBC,YACCC,IAAcC,IAAM,MACpB,CACC,OAAU,CACT,YAAe,CACdH,KAIH,IACA,SAAAI,GACCxB,QAAQC,IAAI,oBAAqBuB,GACjCX,EAAUW,EAAWR,KAAKA,KAAK,OAEhC,SAAAS,GACCzB,QAAQC,IAAI,qBAAsBwB,MAwGrC,OAtIAC,qBAAU,WAEL9B,EAAUwB,MACbD,EAAUvB,EAAUwB,QAEnB,IA8DER,GAAUA,EAAOM,UAAUd,OAAS,EAEtC,yBAAKuB,UAAU,mBAEdf,EAAOM,UAAUd,OAAS,GACzB,kBAAC,IAAD,CAAQwB,MAAM,UAAUC,QAASf,GAAjC,iBACG,KAEJ,4BACA,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAKgB,GAAG,KAENlB,EAAOM,UAAUa,KAAI,SAACC,EAAcC,GACnC,OACC,kBAAC,IAAD,KACC,kBAAC,IAAD,qBACeD,EAAaE,aAE5B,kBAAC,IAAD,KACC,4BAAKD,EAAQ,EAAb,KAAkBD,EAAaG,UAC/B,yBAAKR,UAAU,+BAEbK,EAAaI,QAAQL,KAAI,SAACM,EAAYC,GACrC,OACC,yBAAKX,UAAU,SAASW,EAAI,EAA5B,KAAiCD,EAAWE,OAA5C,IACCF,EAAWG,QAAU,uBAAGb,UAAU,2BAAgC,uBAAGA,UAAU,iCAOrF,kBAAC,IAAD,CAAYA,UAAU,0DACrB,kBAAC,IAAD,CAAQC,MAAM,OAAOC,QAAS,SAACY,GAAD,OA9CzC,SAAsBA,EAAGC,GACxBD,EAAEE,iBAKFhD,EAAMU,QAAQC,KAAK,CAClBC,SAAUC,IAAeoC,gBAAgBlC,KACzCZ,MAAO,CAAEkB,KAAM0B,EAAUG,UAAWjC,EAAOM,UAAUd,UAsCP0C,CAAaL,EAAGT,KAArD,QADD,OAKC,kBAAC,IAAD,CAAQJ,MAAM,SAASC,QAAS,SAACY,GAAD,OArE3C,SAAwBA,EAAGM,GAC1BN,EAAEE,iBACF3C,QAAQC,IAAI,WAAY8C,GACxB1B,YACCC,IAAc0B,gBACd,CACCd,YAAaa,GAEd,IACA,SAAAvB,GACCxB,QAAQC,IAAI,kCAAmCuB,GAC/CL,EAAUP,EAAOK,gBAElB,SAAAQ,GACCzB,QAAQC,IAAI,2BAA4BwB,MAuDOwB,CAAeR,EAAGT,EAAaE,eAAtE,kBAeR,yBAAKP,UAAU,mBACd,kBAAC,IAAD,CAAQC,MAAM,UAAUC,QAASf,GAAjC,iBACA,4BACA,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAKgB,GAAG,KACP","file":"static/js/9.abfbdd29.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { frontendRoutes, backendRoutes } from '../../../utils/constants';\r\nimport {\r\n\tCard,\r\n\tCardBody,\r\n\tCardHeader,\r\n\tCol,\r\n\tRow,\r\n\tForm,\r\n\tInputGroup,\r\n\tInputGroupAddon,\r\n\tInput,\r\n\tInputGroupText,\r\n\tButton,\r\n\tFormFeedback,\r\n\tAlert,\r\n\tCardFooter,\r\n} from \"reactstrap\";\r\nimport './Context.css'\r\nimport { AppSwitch } from '@coreui/react';\r\nimport { apiPost } from '../../../utils/serviceManager';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function AdQuestions(props) {\r\n\r\n\tconst adDetails = useSelector(state => state.adsReducer)\r\n\r\n\tconsole.log('adDetails: ', adDetails)\r\n\r\n\tif (Object.keys(adDetails).length === 0) {\r\n\t\tprops.history.push({\r\n\t\t\tpathname: frontendRoutes.ads.path,\r\n\t\t})\r\n\t}\r\n\r\n\tconst [adData, setAdData] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\t// setAdData(props.location.state ? props.location.state.data : { creative_id: '', questions: [] })\r\n\t\tif (adDetails.adId) {\r\n\t\t\tgetAdData(adDetails.adId)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tfunction goToCreateQues() {\r\n\t\tprops.history.push({\r\n\t\t\tpathname: frontendRoutes.createAdQuestions.path,\r\n\t\t\tstate: { data: { creative_id: adData.creative_id, questions: adData.questions } },\r\n\t\t})\r\n\t}\r\n\r\n\tfunction getAdData(adId) {\r\n\t\tapiPost(\r\n\t\t\tbackendRoutes.ADS + 'get',\r\n\t\t\t{\r\n\t\t\t\t\"filter\": {\r\n\t\t\t\t\t\"creative_id\": [\r\n\t\t\t\t\t\tadId\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\tsuccessRes => {\r\n\t\t\t\tconsole.log(\"Ad data success: \", successRes)\r\n\t\t\t\tsetAdData(successRes.data.data[0])\r\n\t\t\t},\r\n\t\t\terrorRes => {\r\n\t\t\t\tconsole.log(\"error in ad data: \", errorRes)\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tfunction deleteQuestion(e, quesId) {\r\n\t\te.preventDefault();\r\n\t\tconsole.log(\"quesId: \", quesId)\r\n\t\tapiPost(\r\n\t\t\tbackendRoutes.DELETE_QUESTION,\r\n\t\t\t{\r\n\t\t\t\tquestion_id: quesId\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\tsuccessRes => {\r\n\t\t\t\tconsole.log(\"Question deleted successfully: \", successRes)\r\n\t\t\t\tgetAdData(adData.creative_id)\r\n\t\t\t},\r\n\t\t\terrorRes => {\r\n\t\t\t\tconsole.log(\"Question deleted error: \", errorRes)\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tfunction editQuestion(e, quesData) {\r\n\t\te.preventDefault();\r\n\t\t// props.history.push({\r\n\t\t// \tpathname: frontendRoutes.createAdQuestions.path,\r\n\t\t// \tstate: { data: { creative_id: adData.creative_id, questions: adData.questions } },\r\n\t\t// })\r\n\t\tprops.history.push({\r\n\t\t\tpathname: frontendRoutes.editAdQuestions.path,\r\n\t\t\tstate: { data: quesData, totalQues: adData.questions.length }\r\n\t\t})\r\n\t}\r\n\r\n\tfunction renderQuestions() {\r\n\t\tif (adData && adData.questions.length > 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"animated fadeIn\">\t\t\t\r\n\t\t\t\t{\r\n\t\t\t\t\tadData.questions.length < 10 ? (\r\n\t\t\t\t\t\t<Button color=\"primary\" onClick={goToCreateQues}>Add Questions</Button>\r\n\t\t\t\t\t) : null\r\n\t\t\t\t}\r\n\t\t\t\t\t<p></p>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col xl=\"8\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tadData.questions.map((questionData, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader>\r\n\t\t\t\t\t\t\t\t\t\t\t\tQuestion Id: {questionData.question_id}\r\n\t\t\t\t\t\t\t\t\t\t\t</CardHeader>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardBody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2>{index + 1}) {questionData.question}</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='row justify-content-between'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tquestionData.answers.map((answerData, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='col-6'>{i + 1}) {answerData.answer} {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanswerData.correct ? <i className='fa fa-check fa-lg mt-4'></i> : <i className='fa fa-close fa-lg mt-4'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardBody>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardFooter className='d-flex flex-row justify-content-end align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button color='info' onClick={(e) => editQuestion(e, questionData)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button color='danger' onClick={(e) => deleteQuestion(e, questionData.question_id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardFooter>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"animated fadeIn\">\r\n\t\t\t\t\t<Button color=\"primary\" onClick={goToCreateQues}>Add Questions</Button>\r\n\t\t\t\t\t<p></p>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col xl=\"8\">\r\n\t\t\t\t\t\t\t<h2>There are no questions added for this ad.</h2>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn (\r\n\r\n\t\trenderQuestions()\r\n\t)\r\n}"],"sourceRoot":""}