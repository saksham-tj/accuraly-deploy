(this.webpackJsonpAccuraly=this.webpackJsonpAccuraly||[]).push([[17],{646:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return x}));var n=t(527),c=t(507),l=t(1),r=t.n(l),s=t(917),o=t(918),i=t(746),u=t(919),m=t(703),d=t(910),E=t(911),p=t(912),b=t(913),h=t(914),f=t(935),g=t(916),O=t(920),v=t(511),y=t(510),N=t(518),j=t(505),w=t(509),T=t(512);function x(e){var a=e.location.state?e.location.state.data:{creative_id:"",questions:[]},t=Object(v.a)("quesText","",y.a,y.b.EMPTY),x=Object(l.useState)([{answer:null,correct:!1},{answer:null,correct:!1}]),k=Object(c.a)(x,2),V=k[0],_=k[1],q=Object(l.useState)(a.questions.length),A=Object(c.a)(q,2),C=A[0],I=A[1],M=Object(T.a)(!1),R=Object(v.b)([t],(function(e){e={question:e.quesText,answers:V,creative_id:a.creative_id};var n=!1;V.forEach((function(e,a){if(!e.answer)return M.changeVisibility(!0),M.handleMessage("Please fill all the options to continue."),setTimeout((function(){M.changeVisibility(!1)}),3e3),void(n=!1);n=!0})),n&&(console.log("Data Length==> ",e),function(e){Object(w.a)(j.a.INSERT_QUESTION,{data:e},{},(function(e){console.log("successRes",e),I(C+1),M.changeVisibility(!0),M.handleMessage(j.c.QUESTION_CREATED),setTimeout((function(){M.changeVisibility(!1)}),5e3)}),(function(e){console.log("errorRes",e),e.response&&e.response.data?M.handleMessage(e.response.data.message):M.handleMessage(j.c.NETWORK_FAILURE),setTimeout((function(){M.changeVisibility(!1)}),5e3)}))}(e),t.clearInput(),_([{answer:null,correct:!1},{answer:null,correct:!1}]))}));return void 0===e.location.state&&e.history.push({pathname:j.b.dashboard.path}),r.a.createElement("div",{className:"animated fadeIn"},r.a.createElement(d.a,null,r.a.createElement(E.a,{xl:"12"},r.a.createElement(p.a,null,r.a.createElement(b.a,null,r.a.createElement("strong",null,r.a.createElement("i",{className:"icon-info pr-1"}))," Ad_id: ",a.creative_id),r.a.createElement(h.a,null,r.a.createElement(f.a,{color:"danger",isOpen:M.isVisible,toggle:function(){M.changeVisibility(!1)}},M.message),C<=9?r.a.createElement(g.a,Object.assign({noValidate:!0},R.props),r.a.createElement("h1",null,"Add Questions"),r.a.createElement("p",{className:"text-muted"},10-C," more questions can be added "),r.a.createElement(s.a,{className:"mb-3"},r.a.createElement(o.a,{addonType:"prepend"},r.a.createElement(i.a,null,r.a.createElement("i",{className:"icon-screen-desktop"}))),r.a.createElement(u.a,Object.assign({type:"text",placeholder:"Question"},t.props)),r.a.createElement(O.a,null,t.helperText)),V.map((function(e,a){return r.a.createElement("div",{className:"row align-items-center justify-content-between",color:"red",key:"".concat(e,"-").concat(a)},r.a.createElement("div",{className:"col-4"},r.a.createElement(s.a,{className:"mb-3"},r.a.createElement(o.a,{addonType:"prepend"},r.a.createElement(i.a,null,a+1)),r.a.createElement(u.a,{type:"text",placeholder:"Option",value:e.answer||"",onChange:function(e){return function(e,a){var t=Object(n.a)(V);t[e].answer=a.target.value,_(t)}(a,e)}}))),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"mb-3 row align-items-center justify-content-start"},"Is Correct Option -",r.a.createElement(N.l,{className:"mx-1",color:"primary",outline:"alt",label:!0,checked:e.correct,dataOn:"\u2713",dataOff:"\u2715",onChange:function(e){return function(e,a){var t=Object(n.a)(V);t[e].correct=a.target.checked,_(t)}(a,e)}}))),a>1?r.a.createElement("div",{className:"col-3"},r.a.createElement(m.a,{onClick:function(){return function(e){var a=Object(n.a)(V);a.splice(e,1),_(a)}(a)}},"Delete")):r.a.createElement("div",{className:"col-3"}))})),r.a.createElement(m.a,{color:"primary",onClick:function(){return function(){var e=Object(n.a)(V);e.length<=4?(e.push({answer:null,correct:!1}),_(e)):console.log("maximum upto 5 answers can be added.")}()}},"Add Option"),r.a.createElement("p",null),r.a.createElement(m.a,{color:"success",block:!0},"Create Question")):r.a.createElement("h1",null,"No more questions can be added! Max limit is 10."))))))}}}]);
//# sourceMappingURL=17.4393453a.chunk.js.map