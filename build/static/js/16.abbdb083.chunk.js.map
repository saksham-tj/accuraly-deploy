{"version":3,"sources":["views/Ads/EditAd.js"],"names":["EditAd","props","name","vastUrl","width","height","console","log","location","state","AdData","data","useInput","handleValidation","validations","EMPTY","vast_url","String","NUMBER","alert","useAlert","submit","useSubmit","formData","ad_id","parseInt","apiPost","backendRoutes","ADS","successRes","changeVisibility","handleMessage","setTimeout","errorRes","response","message","messages","NETWORK_FAILURE","editAds","className","lg","creative_id","color","isOpen","isVisible","toggle","noValidate","addonType","type","placeholder","autoComplete","helperText","block"],"mappings":"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","file":"static/js/16.abbdb083.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport {\r\n\tCard,\r\n\tCardBody,\r\n\tCardHeader,\r\n\tCol,\r\n\tRow,\r\n\tForm,\r\n\tInputGroup,\r\n\tInputGroupAddon,\r\n\tInput,\r\n\tInputGroupText,\r\n\tButton,\r\n\tFormFeedback,\r\n\tAlert,\r\n} from \"reactstrap\";\r\nimport { handleValidation, validations } from '../../utils/validations';\r\nimport { useInput, useSubmit } from '../../hooks/form';\r\nimport useAlert from '../../hooks/useAlert';\r\nimport { apiPost } from '../../utils/serviceManager';\r\nimport { backendRoutes, messages } from '../../utils/constants';\r\n\r\n\r\n\r\nexport default function EditAd(props) {\r\n\tlet name, vastUrl, width, height;\r\n\r\n\tconsole.log(\"Selected Ad data: \", props.location.state)\r\n\tconst AdData = props.location.state.data\r\n\tname = useInput(\"name\", AdData.name, handleValidation, validations.EMPTY);\r\n\tvastUrl = useInput(\"vast_url\", AdData.vast_url, handleValidation, validations.EMPTY);\r\n\twidth = useInput(\"width\", String(AdData.width), handleValidation, validations.NUMBER);\r\n\theight = useInput(\"height\", String(AdData.height), handleValidation, validations.NUMBER);\r\n\r\n\tconst alert = useAlert(false);\r\n\tconst submit = useSubmit([name, vastUrl, height, width], handleSuccess);\r\n\r\n\tfunction handleSuccess(formData) {\r\n\t\tformData = { ...formData, ad_id: AdData.ad_id, height: parseInt(formData.height), width: parseInt(formData.width) }\r\n\t\tconsole.log(\"Data Length==> \", formData);\r\n\t\teditAds(formData)\r\n\t\t// name.clearInput();\r\n\t\t// description.clearInput();\r\n\t\t// setStartDate(new Date())\r\n\t\t// setEndDate(new Date())\r\n\t}\r\n\r\n\tfunction editAds(formData) {\r\n\t\tapiPost(\r\n\t\t\tbackendRoutes.ADS + 'update',\r\n\t\t\t{ data: formData },\r\n\t\t\t{\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t//Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n\t\t\t},\r\n\t\t\tsuccessRes => {\r\n\t\t\t\tconsole.log(\"Ad edit success: \", successRes);\r\n\t\t\t\talert.changeVisibility(true);\r\n\t\t\t\talert.handleMessage(\"Ad edit successfully\");\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\talert.changeVisibility(false);\r\n\t\t\t\t}, 5000);\r\n\t\t\t},\r\n\t\t\terrorRes => {\r\n\t\t\t\tconsole.log(\"Ad edit error: \", errorRes);\r\n\t\t\t\tif (errorRes.response && errorRes.response.data) {\r\n\t\t\t\t\talert.handleMessage(errorRes.response.data.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert.handleMessage(messages.NETWORK_FAILURE);\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\talert.changeVisibility(false);\r\n\t\t\t\t}, 5000);\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tfunction handleAlertVisibility() {\r\n\t\talert.changeVisibility(false);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"animated fadeIn\">\r\n\t\t\t<Row>\r\n\t\t\t\t<Col lg={6}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader>\r\n\t\t\t\t\t\t\t<strong><i className=\"icon-info pr-1\"></i>Ad id: {AdData.creative_id}</strong>\r\n\t\t\t\t\t\t</CardHeader>\r\n\t\t\t\t\t\t<CardBody>\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\tisOpen={alert.isVisible}\r\n\t\t\t\t\t\t\t\ttoggle={handleAlertVisibility}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{alert.message}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t<Form noValidate {...submit.props}>\r\n\t\t\t\t\t\t\t\t<h1>Edit Ads</h1>\r\n\t\t\t\t\t\t\t\t<p className=\"text-muted\"></p>\r\n\t\t\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t\t\t\t\t<InputGroupText>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-screen-desktop\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroupText>\r\n\t\t\t\t\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\t\t\t{...name.props}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormFeedback>{name.helperText}</FormFeedback>\r\n\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t\t\t\t\t<InputGroupText>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-calendar\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroupText>\r\n\t\t\t\t\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Vast url\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t{...vastUrl.props}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormFeedback>{vastUrl.helperText}</FormFeedback>\r\n\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t\t\t\t\t<InputGroupText>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-chart\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroupText>\r\n\t\t\t\t\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Ad Width\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t{...width.props}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormFeedback>{width.helperText}</FormFeedback>\r\n\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t\t\t\t\t<InputGroupText>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-chart\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroupText>\r\n\t\t\t\t\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Ad Height\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t{...height.props}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormFeedback>{height.helperText}</FormFeedback>\r\n\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t<Button color=\"success\" block>\r\n\t\t\t\t\t\t\t\t\tEdit Campaign\r\n                </Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</CardBody>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"sourceRoot":""}